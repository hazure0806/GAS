## 【手順書】ローカルのGASプロジェクトを`clasp`でPushする方法

`clasp` を利用して、ローカル環境で編集したコード（`main.js`など）を、Google Drive上のGoogle Apps Scriptプロジェクトにアップロード（同期）するための手順です。

### 前提条件

- ローカルの開発環境に `clasp` がインストールされていること。
- `clasp login` コマンドでGoogleアカウントにログイン済みであること。
- `clasp clone` または `clasp create` で、ローカルにプロジェクトフォルダが作成済みであること。

---

### Step 1: プロジェクトディレクトリへの移動

まず、お使いのターミナル（WindowsならコマンドプロンプトやPowerShell、Macならターミナル.appなど）を開き、`cd` コマンドを使って対象のプロジェクトフォルダに移動します。

```bash
# 例: NotionToDiscordNotifier という名前のフォルダに移動する場合
cd path/to/NotionToDiscordNotifier
```

**`path/to/`** の部分は、ご自身の環境に合わせて実際のフォルダのパスに置き換えてください。
このフォルダには `.clasp.json` ファイルが存在しているはずです。

---

### Step 2: コードの変更をPushする

プロジェクトフォルダにいることを確認したら、以下のコマンドを実行します。

```bash
clasp push
```

このコマンドを実行すると、`clasp` はローカルのファイルとGoogle Drive上のプロジェクトファイルを比較し、変更があったファイルのみをアップロードします。
成功すると、以下のようなメッセージが表示されます。

```
Pushed 2 files.
```

#### 💡 **「変更がない」と言われた場合**

コードを編集・保存したにもかかわらず、`clasp` が差分を認識できずに以下のようなメッセージを表示することがあります。

```
Script is already up to date.
```

この場合は、`-f` (または `--force`) オプションを付けて強制的にプッシュします。

```bash
clasp push -f
```

これにより、差分の有無にかかわらず、ローカルのファイルですべてのファイルを上書きします。

---

### Step 3: Google Apps Scriptエディタで確認

正しくPushされたかを確認するために、ブラウザでGASエディタを開いてみましょう。
ターミナルで以下のコマンドを実行すると、自動的にブラウザで対象のプロジェクトが開きます。

```bash
clasp open
```

エディタ上で、ローカルで行った変更が正しく反映されていることを確認してください。

---

### まとめ

普段の開発フローは、以下のようになります。

1.  ローカルのエディタ（VS Codeなど）でコードを編集・保存する。
2.  ターミナルで `clasp push` を実行して、変更をGoogleにアップロードする。
3.  必要に応じて `clasp open` でブラウザのエディタを開き、デプロイやテストを行う。

この手順をMarkdownファイルとしてプロジェクトフォルダ内に保存しておくと、いつでも参照できて便利です。
